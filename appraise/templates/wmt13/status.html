{% extends "wmt13/base.html" %}

{% block content %}
<div class="row">
<div class="span12">

{% if global_stats %}
<h3>Global status</h3>
<table class="table table-striped table-bordered table-condensed">
{% for item in global_stats %}
<tr>
  <th width="30%">{{item.0}}</th>
  <td>{{item.1}}</td>
</tr>
{% endfor %}
</table>
{% endif %}

{% if language_pair_stats %}
<h3>Language pair status</h3>
<table class="table table-striped table-bordered table-condensed">
{% for item in language_pair_stats %}
<tr>
  <th width="30%">{{item.0}}</th>
  <td width="23%"{% if item.1.0 < 20 %} style="color:#b94a48;"{% elif item.1.0 < 50 %} style="color:#3a87ad;"{% elif item.1.0 > 200 %} style="color:#468847;"{% endif %}>{{item.1.0|stringformat:"04d"}} remaining</td>
  <td width="23%"{% if item.1.1 < 20 %} style="color:#b94a48;"{% elif item.1.1 < 50 %} style="color:#3a87ad;"{% elif item.1.1 > 200 %} style="color:#468847;"{% endif %}>{{item.1.1|stringformat:"04d"}} completed</td>
  <td width="23%">{{item.1.2|stringformat:"04d"}} total HITs</td>
</tr>
{% endfor %}
</table>
{% endif %}

{% if group_stats %}
<h3>Group status</h3>
<table class="table table-striped table-bordered table-condensed">
{% for item in group_stats %}
<tr>
  <th width="30%">{{item.0}}</th>
  <td width="23%"{% if item.1.0 < item.1.1 %} style="color:#b94a48;"{% endif %}>{{item.1.0|stringformat:"04d"}} completed</td>
  <td width="23%">{{item.1.1|stringformat:"04d"}} required</td>
  <td width="23%"{% if item.1.2 < 0 %} style="color:#b94a48;"{% elif item.1.2 > 0 %} style="color:#468847;"{% endif %}>{% if item.1.2 %}&Delta; {{item.1.2|stringformat:"+05d"}}{% if item.1.2 < 0 %} missing HITs{% elif item.1.2 > 0 %} additional HITs{% endif %}{% else %}<em>all clear!</em>{% endif %}</td>
</tr>
{% endfor %}
</table>
{% endif %}

{% if user_stats %}
<h3>Top 25 contributors</h3>
<table class="table table-striped table-bordered table-condensed">
{% for item in user_stats %}
<tr>
  <th width="30%">{{item.0}}</th>
  <td width="23%">{{item.1}}</td>
  <td width="23%">{{item.2}}</td>
  <td width="23%">{{item.3}}</td>
</tr>
{% endfor %}
</table>
{% endif %}

{% if not global_stats and not language_pair_stats and not group_stats %}
<h2>Not ready yet...</h2>
<p>At this moment, no status information is available. Check back soon...</p>
{% endif %}
</div>
</div>
{% endblock %}
